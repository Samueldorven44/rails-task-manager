<div class="container py-4">
  <h1 class="mb-4">Que dois-je faire aujourd'hui ?</h1>

  <div class="card mb-3 shadow-sm">
    <ul class="list-group list-group-flush">
      <% @tasks.each do |task| %>
        <li class="list-group-item d-flex align-items-center gap-2">
          <%= form_with model: task, class: "d-flex align-items-center gap-2 mb-0" do |f| %>
            <%= f.check_box :completed, class: "form-check-input me-2", onchange: "this.form.requestSubmit()" %>
            <strong class="<%= 'text-decoration-line-through text-muted' if task.completed? %>">
              <%= link_to task.title, task_path(task), class: "link-underline link-underline-opacity-0" %>
            </strong>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>

  <%= link_to "+ Ajouter une task", tasks_new_path, class: "btn btn-primary" %>
</div>
